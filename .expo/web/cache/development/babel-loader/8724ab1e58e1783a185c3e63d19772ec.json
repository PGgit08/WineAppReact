{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _expoStatusBar = require(\"expo-status-bar\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _storage = require(\"../storage\");\n\nvar _auth_context = require(\"../contexts/auth_context\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\peter\\\\Peter-First-App\\\\src\\\\screens\\\\Register.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Register = function (_Component) {\n  (0, _inherits2.default)(Register, _Component);\n\n  var _super = _createSuper(Register);\n\n  function Register(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Register);\n    _this = _super.call(this, props);\n\n    _this.onChangeText = function (key, value) {\n      _this.setState((0, _defineProperty2.default)({}, key, value));\n    };\n\n    _this.register = function _callee() {\n      var _this$state, username, password, email;\n\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state = _this.state, username = _this$state.username, password = _this$state.password, email = _this$state.email;\n\n              _axios.default.get(_this.props.api_endpoint, {\n                params: {\n                  username: username,\n                  password: password,\n                  email: email\n                }\n              }).then(function (res) {\n                (0, _storage.SignIn)(res.data);\n\n                _react.default.useContext(_auth_context.AuthContext).change_context({\n                  jwt: res.data\n                });\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      username: '',\n      password: '',\n      email: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(Register, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_expoStatusBar.StatusBar, {\n        style: \"auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Button, {\n        title: \"Login\",\n        onPress: this.props.navigation.goBack(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        style: styles.inputView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Username.\",\n        placeholderTextColor: \"#003f5c\",\n        onChangeText: function onChangeText(u) {\n          return _this2.onChangeText('username', u);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        style: styles.inputView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Password.\",\n        placeholderTextColor: \"#003f5c\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(p) {\n          return _this2.onChangeText('password', p);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      })), _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Email.\",\n        placeholderTextColor: \"#003f5c\",\n        onChangeText: function onChangeText(e) {\n          return _this2.onChangeText('email', e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      })), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: styles.loginBtn,\n        onPress: this.register,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.registerBtn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, \"REGISTER\")));\n    }\n  }]);\n  return Register;\n}(_react.Component);\n\n;\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputView: {\n    backgroundColor: \"#FFC0CB\",\n    borderRadius: 30,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 20,\n    alignItems: \"center\"\n  },\n  TextInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n    marginLeft: 20\n  },\n  forgot_button: {\n    height: 30,\n    marginBottom: 30\n  },\n  registerBtn: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 40,\n    backgroundColor: \"#FF1493\"\n  }\n});\n\nfunction register(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var api_endpoint = route.params.api_endpoint;\n  return _react.default.createElement(Register, {\n    navigation: navigation,\n    api_endpoint: api_endpoint,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  });\n}\n\n;\nvar _default = register;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/peter/Peter-First-App/src/screens/Register.js"],"names":["Register","props","onChangeText","key","value","setState","register","state","username","password","email","axios","get","api_endpoint","params","then","res","data","React","useContext","AuthContext","change_context","jwt","catch","err","console","log","styles","container","navigation","goBack","inputView","TextInput","u","p","e","loginBtn","registerBtn","Component","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","borderRadius","width","height","marginBottom","padding","marginLeft","forgot_button","marginTop","route"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, {Component} from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Button\r\n} from 'react-native';\r\n\r\n// api requests lib\r\nimport axios from 'axios';\r\n\r\n// storage sign in\r\nimport {SignIn} from '../storage';\r\n\r\n// context\r\nimport {AuthContext} from '../contexts/auth_context';\r\n\r\nclass Register extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            email: ''\r\n        };\r\n        \r\n    };\r\n\r\n    onChangeText = (key, value) => {\r\n        this.setState({[key]: value});\r\n    };\r\n\r\n    register = async () => {\r\n        const {username, password, email} = this.state;\r\n        axios.get(this.props.api_endpoint, {\r\n            params: {\r\n                username: username,\r\n                password: password,\r\n                email: email\r\n            }\r\n        }).then(\r\n            (res) => {\r\n                // storage sign in\r\n                SignIn(res.data);\r\n                \r\n                // context jwt\r\n                React.useContext(AuthContext).change_context({jwt: res.data});\r\n            }\r\n        ).catch(\r\n            (err) => {console.log(err)}\r\n        );\r\n    };\r\n\r\n    render(){\r\n        // const { navigation } = this.props;\r\n        return (\r\n            <View style={styles.container}>\r\n                <StatusBar style=\"auto\" />\r\n                <View>\r\n                    <Button \r\n                    title='Login'\r\n                    onPress={this.props.navigation.goBack()}\r\n                    />\r\n                </View>\r\n                <View style={styles.inputView}>\r\n                    <TextInput\r\n                        style={styles.TextInput}\r\n                        placeholder=\"Username.\"\r\n                        placeholderTextColor=\"#003f5c\"\r\n                        onChangeText={(u) => this.onChangeText('username', u)}\r\n                    />\r\n                </View>\r\n            \r\n                <View style={styles.inputView}>\r\n                    <TextInput\r\n                        style={styles.TextInput}\r\n                        placeholder=\"Password.\"\r\n                        placeholderTextColor=\"#003f5c\"\r\n                        secureTextEntry={true}\r\n                        onChangeText={(p) => this.onChangeText('password', p)}\r\n                    />\r\n                </View>\r\n\r\n                <View>\r\n                    <TextInput\r\n                        style={styles.TextInput}\r\n                        placeholder=\"Email.\"\r\n                        placeholderTextColor=\"#003f5c\"\r\n                        onChangeText={(e) => this.onChangeText('email', e)}\r\n                    />\r\n                </View>\r\n            \r\n                <TouchableOpacity style={styles.loginBtn} onPress={this.register}>\r\n                    <Text style={styles.registerBtn}>REGISTER</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n      };\r\n};\r\n\r\n// this doesn't really matter it's just stuff\r\n// to make the screen look pretty\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#fff\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    },\r\n\r\n    inputView: {\r\n        backgroundColor: \"#FFC0CB\",\r\n        borderRadius: 30,\r\n        width: \"70%\",\r\n        height: 45,\r\n        marginBottom: 20,\r\n\r\n        alignItems: \"center\"\r\n    },\r\n\r\n    TextInput: {\r\n        height: 50,\r\n        flex: 1,\r\n        padding: 10,\r\n        marginLeft: 20\r\n    },\r\n\r\n    forgot_button: {\r\n        height: 30,\r\n        marginBottom: 30\r\n    },\r\n\r\n    registerBtn: {\r\n        width: \"80%\",\r\n        borderRadius: 25,\r\n        height: 50,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        marginTop: 40,\r\n        backgroundColor: \"#FF1493\"\r\n    }\r\n});\r\n\r\nfunction register({navigation, route}){\r\n    const {api_endpoint} = route.params;\r\n\r\n    return (<Register navigation={navigation} \r\n            api_endpoint={api_endpoint}\r\n        />);\r\n};\r\n\r\nexport default register;\r\n"]},"metadata":{},"sourceType":"script"}