{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _expo = require(\"expo\");\n\nvar _storage = require(\"./src/storage\");\n\nvar _Auth = _interopRequireDefault(require(\"./src/Auth\"));\n\nvar _Home = _interopRequireDefault(require(\"./src/Home\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\peter\\\\Peter-First-App\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar App = function (_Component) {\n  (0, _inherits2.default)(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, App);\n    _this = _super.call(this, props);\n\n    _this.init = function () {\n      var token_promise = (0, _storage.Init)();\n      token_promise.then(function (val) {\n        if (val != null) {\n          _this.setState({\n            checkedLogin: true,\n            loggedIn: true,\n            jwt: val\n          });\n        } else {\n          _this.setState({\n            checkedLogin: true,\n            loggedIn: false,\n            jwt: \"\"\n          });\n        }\n\n        ;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.change_state = function (key, val) {\n      _this.setState((0, _defineProperty2.default)({}, key, val));\n    };\n\n    _this.state = {\n      jwt: \"\",\n      checkedLogin: false,\n      loggedIn: false\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          jwt = _this$state.jwt,\n          checkedLogin = _this$state.checkedLogin,\n          loggedIn = _this$state.loggedIn;\n\n      if (loggedIn) {\n        return _react.default.createElement(_Home.default, {\n          rload: this.init,\n          jwt: this.state.jwt,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 20\n          }\n        });\n      }\n\n      ;\n\n      if (!loggedIn) {\n        return _react.default.createElement(_Auth.default, {\n          change_jwt: this.change_state,\n          rload: this.init,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 20\n          }\n        });\n      }\n\n      ;\n\n      if (!checkedLogin) {\n        return _react.default.createElement(_reactNative.View, {\n          style: styles.container,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: styles.msg,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }\n        }, \"Login Not Checked\"));\n      }\n\n      ;\n    }\n  }]);\n  return App;\n}(_react.Component);\n\n;\n\nvar styles = _reactNative.StyleSheet.create({\n  msg: {\n    fontSize: 28\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\n_reactNative.AppRegistry.registerComponent(\"Peter-First-App\", function () {\n  return App;\n});\n\nif (_reactNative.Platform.OS == \"web\") {\n  _reactNative.AppRegistry.runApplication(\"Peter-First-App\", {\n    rootTag: document.getElementById('root')\n  });\n}\n\n;","map":{"version":3,"sources":["C:/Users/peter/Peter-First-App/index.js"],"names":["App","props","init","token_promise","then","val","setState","checkedLogin","loggedIn","jwt","catch","err","console","log","change_state","key","state","styles","container","msg","Component","StyleSheet","create","fontSize","flex","justifyContent","alignItems","AppRegistry","registerComponent","Platform","OS","runApplication","rootTag","document","getElementById"],"mappings":"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","sourcesContent":["// import stuff\r\nimport React, {Component} from 'react';\r\nimport {registerRootComponent} from 'expo';\r\nimport {Init} from './src/storage';\r\nimport Auth from './src/Auth';\r\nimport Home from './src/Home';\r\n\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    AppRegistry,\r\n    Platform\r\n} from \"react-native\";\r\n\r\n// App class\r\n// hello\r\nclass App extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            jwt: \"\",\r\n            checkedLogin: false,\r\n            loggedIn: false\r\n        };\r\n    };\r\n\r\n    // init function\r\n    // checks if person logged in or not\r\n    init = () => {\r\n        // lol\r\n        // this promise is an asyncstorage promise(returned)\r\n        const token_promise = Init();\r\n\r\n        // check promise if it has loaded\r\n        // or gotten an error\r\n        token_promise.then(\r\n            (val) => {\r\n                if(val != null){\r\n                    this.setState({checkedLogin: true, loggedIn: true, jwt: val});\r\n                }\r\n                else{\r\n                    this.setState({checkedLogin: true, loggedIn: false, jwt:\"\"});\r\n                };\r\n            }\r\n        ).catch(\r\n            (err) => {console.log(err)}\r\n        );\r\n    };\r\n\r\n    // react.component method\r\n    // gets called when components render\r\n    // successfully\r\n    \r\n    componentDidMount(){\r\n        // call Init func\r\n        this.init();\r\n    };\r\n\r\n    change_state = (key, val) => {\r\n        this.setState({[key]: val});\r\n    };\r\n\r\n    render(){\r\n        const {jwt, checkedLogin, loggedIn} = this.state;\r\n        if(loggedIn){\r\n            // return home navigation\r\n            return <Home rload={this.init} jwt={this.state.jwt}/>\r\n\r\n        };\r\n        if(!loggedIn){\r\n            // return auth navigation\r\n            return <Auth change_jwt={this.change_state} rload={this.init}/>\r\n            // return(\r\n            //     <View style={styles.container}>\r\n            //         <Text style={styles.msg}>\r\n            //             Your Are Not Logged In\r\n            //         </Text>\r\n            //     </View>\r\n            // );\r\n        };\r\n        \r\n        if (!checkedLogin){\r\n            // return if the person is not logged in\r\n            return(\r\n                <View style={styles.container}>\r\n                    <Text style={styles.msg}>\r\n                        Login Not Checked\r\n                    </Text>\r\n                </View>\r\n            );\r\n        };\r\n    };\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    msg: {\r\n      fontSize: 28\r\n    },\r\n    container: {\r\n      flex: 1,\r\n      justifyContent: 'center',\r\n      alignItems: 'center'\r\n    }\r\n});\r\n\r\n// expo uses this registry method instead of registry component\r\n// when app launches maybe registry component will work\r\n// registerRootComponent(App);\r\n\r\n// for web\r\nAppRegistry.registerComponent(\"Peter-First-App\", () => App);\r\n\r\n\r\nif (Platform.OS == \"web\"){\r\n    AppRegistry.runApplication(\"Peter-First-App\", {\r\n        rootTag: document.getElementById('root')\r\n    });\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"script"}