{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _storage = require(\"./src/storage\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _navigations = require(\"./src/navigation/navigations\");\n\nvar _main_context = require(\"./src/contexts/main_context\");\n\nvar _reactNative = require(\"react-native\");\n\nvar _main_context_setters = require(\"./src/contexts/main_context_setters\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\peter\\\\Peter-First-App\\\\index.js\";\n\nfunction App() {\n  var auth_context = _react.default.useContext(_main_context.AuthContext);\n\n  (0, _react.useEffect)(function () {\n    (0, _storage.Init)().then(function (val) {\n      (0, _main_context_setters.checkJWT)(val);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  });\n  var jwt = auth_context.context.jwt;\n  return _react.default.createElement(_native.NavigationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, jwt == null ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_navigations.AuthFlow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  })) : _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_navigations.HomeFlow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  })), \";\");\n}\n\n;\n\nvar styles = _reactNative.StyleSheet.create({\n  msg: {\n    fontSize: 28\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nfunction Full_App() {\n  return _react.default.createElement(_main_context.AuthProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_main_context_setters.ActionConsumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }));\n}\n\n;\n\n_reactNative.AppRegistry.registerComponent(\"Peter-First-App\", function () {\n  return Full_App;\n});\n\nif (_reactNative.Platform.OS == \"web\") {\n  _reactNative.AppRegistry.runApplication(\"Peter-First-App\", {\n    rootTag: document.getElementById('root')\n  });\n}\n\n;","map":{"version":3,"sources":["C:/Users/peter/Peter-First-App/index.js"],"names":["App","auth_context","React","useContext","AuthContext","then","val","catch","err","console","log","jwt","context","styles","StyleSheet","create","msg","fontSize","container","flex","justifyContent","alignItems","Full_App","AppRegistry","registerComponent","Platform","OS","runApplication","rootTag","document","getElementById"],"mappings":";;AAEA;;AAGA;;AAGA;;AACA;;AAGA;;AAGA;;AASA;;;;AAQA,SAASA,GAAT,GAAc;AAGV,MAAMC,YAAY,GAAGC,eAAMC,UAAN,CAAiBC,yBAAjB,CAArB;;AAGA,wBAAU,YAAM;AAKZ,yBAAOC,IAAP,CACI,UAACC,GAAD,EAAS;AACL,0CAASA,GAAT;AACH,KAHL,EAIEC,KAJF,CAKI,UAACC,GAAD,EAAS;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAPL;AASH,GAdD;AAiBA,MAAMG,GAAG,GAAGV,YAAY,CAACW,OAAb,CAAqBD,GAAjC;AAGA,SACI,6BAAC,2BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,GAAG,IAAI,IAAP,GACG,4DACI,6BAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADH,GAKG,4DACI,6BAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CANR,MADJ;AAaH;;AAAA;;AAED,IAAME,MAAM,GAAGC,wBAAWC,MAAX,CAAkB;AAC7BC,EAAAA,GAAG,EAAE;AACHC,IAAAA,QAAQ,EAAE;AADP,GADwB;AAI7BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,cAAc,EAAE,QAFP;AAGTC,IAAAA,UAAU,EAAE;AAHH;AAJkB,CAAlB,CAAf;;AAYA,SAASC,QAAT,GAAmB;AACf,SACI,6BAAC,0BAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,6BAAC,oCAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,6BAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAMH;;AAAA;;AAQDC,yBAAYC,iBAAZ,CAA8B,iBAA9B,EAAiD;AAAA,SAAMF,QAAN;AAAA,CAAjD;;AAGA,IAAIG,sBAASC,EAAT,IAAe,KAAnB,EAAyB;AACrBH,2BAAYI,cAAZ,CAA2B,iBAA3B,EAA8C;AAC1CC,IAAAA,OAAO,EAAEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB;AADiC,GAA9C;AAGH;;AAAA","sourcesContent":["// imports\r\n// react as usual\r\nimport React, { useEffect } from 'react';\r\n\r\n// storage imports\r\nimport { Init } from './src/storage';\r\n\r\n// navigation imports\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { HomeFlow, AuthFlow } from './src/navigation/navigations';\r\n\r\n// context imports\r\nimport { AuthContext, AuthProvider } from './src/contexts/main_context';\r\n\r\n// gui just for tests\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    AppRegistry,\r\n    Platform\r\n} from \"react-native\";\r\n\r\n// actions for contexts\r\nimport { ActionConsumer, checkJWT } from './src/contexts/main_context_setters';\r\n\r\n// for actions to actually be provided with \r\n// context, they need to be children of the\r\n// provider, and thats where this comes handy\r\n\r\n\r\n// App function\r\nfunction App(){\r\n\r\n    // load the context state and changer(basically Context.Consumer)\r\n    const auth_context = React.useContext(AuthContext);\r\n    \r\n    // only do this once app is done rendering\r\n    useEffect(() => {\r\n        // change context's state to what init\r\n        // function returns\r\n        // this is all async so that \r\n        // the later code can be compiled\r\n        Init().then(\r\n            (val) => {\r\n                checkJWT(val);\r\n            }\r\n        ).catch(\r\n            (err) => {\r\n                console.log(err);\r\n            }\r\n        );\r\n    });\r\n    \r\n    // then load the context's state\r\n    const jwt = auth_context.context.jwt;\r\n\r\n    // return container, checking whether jwt exists or not\r\n    return(\r\n        <NavigationContainer>\r\n            {jwt == null ? (\r\n                <>\r\n                    <AuthFlow/>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <HomeFlow/>\r\n                </>\r\n            )};\r\n        </NavigationContainer>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    msg: {\r\n      fontSize: 28\r\n    },\r\n    container: {\r\n      flex: 1,\r\n      justifyContent: 'center',\r\n      alignItems: 'center'\r\n    }\r\n});\r\n\r\n// full function for loading everything\r\nfunction Full_App(){\r\n    return (\r\n        <AuthProvider>\r\n            <ActionConsumer />\r\n            <App />\r\n        </AuthProvider>\r\n    );\r\n};\r\n\r\n\r\n// expo uses this registry method instead of registry component\r\n// when app launches maybe registry component will work\r\n// registerRootComponent(App);\r\n\r\n// for web\r\nAppRegistry.registerComponent(\"Peter-First-App\", () => Full_App);\r\n\r\n\r\nif (Platform.OS == \"web\"){\r\n    AppRegistry.runApplication(\"Peter-First-App\", {\r\n        rootTag: document.getElementById('root')\r\n    });\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"script"}